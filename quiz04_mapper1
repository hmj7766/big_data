#!/usr/bin/env python3
import sys

# Mapper function to extract the request type (GET, POST, etc.)
def mapper():
    for line in sys.stdin:
        parts = line.split()
        
        # Debugging: Check if line is split as expected
        if len(parts) < 6:
            continue  # Skip lines that don't match the expected format
        
        try:
            # Extract the request method, which should be the 6th element (index 5)
            request_part = parts[5].strip('"')  # Remove surrounding quotes
            if request_part in ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS', 'HEAD']:
                print(f"{request_part}\t1")  # Emit request type with count 1
        except IndexError:
            # Debugging: Print a warning if the expected format is not found
            print(f"Warning: Malformed line: {line}", file=sys.stderr)

if __name__ == "__main__":
    mapper()
